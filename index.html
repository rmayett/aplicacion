<!DOCTYPE html>
<html>

    <head>
        <title>
            index
        </title>
        <script src="libs/angular/angular.min.js">
        </script>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <link href="css/bootstrap-dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="css/ionicons/css/ionicons.min.css" rel="stylesheet" />
        <link href="css/main.css" rel="stylesheet" />
        <link rel="stylesheet" src="//normalize-css.googlecode.com/svn/trunk/normalize.css" />
        <script data-main="app/bootstrap" src="libs/requirejs/require.js">
        </script>
        <script type="text/javascript" src="index.js"></script>
        <script src="https://cdn.apple-cloudkit.com/ck/1/cloudkit.js"></script>
    </head>

    <body>
        <div ng-controller="indexController" ng-cloak ng-init="init()">
            <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" ng-init="Navbar2 = true" ng-click="Navbar2 = !Navbar2">
                            <span class="sr-only">
                                Toggle navigation
                            </span>
                            <span class="icon-bar">
                            </span>
                            <span class="icon-bar">
                            </span>
                            <span class="icon-bar">
                            </span>
                        </button>
                        <a class="navbar-brand" href="javascript:void(0)">
                        imagen
                        </a>
                    </div>
                    <div class="collapse navbar-collapse" ng-class="!Navbar2 && 'in'">
                        <ul class="nav navbar-nav navbar-left">
                            <li class="">
                                <a href="javascript:void(0)" class="navbar-link">Experiencia</a>
                            </li>
                            <li class="">
                                <a href="javascript:void(0)" class="navbar-link">Personas</a>
                            </li>
                            <li class="">
                                <a href="javascript:void(0)" class="navbar-link">Noticias</a>
                            </li>
                            <li dropdown class="dropdown  ">
                                <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown" dropdown-toggle>Contacto<span class="caret"></span></a>
                                <ul class="dropdown-menu" role="menu">
                                    <li class="">
                                        <a href="" id="mostrar">mostrar</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <br>
            <br>
            <br>
            <div class="aio-google-map " id="target">
                <ui-gmap-google-map center="{latitude: '19.4059385', longitude: '-99.1652023'}" zoom="16"
                pan="false">
                    <ui-gmap-marker coords="{latitude: '19.4059385', longitude: '-99.1652023'}" idKey="1">
                    </ui-gmap-marker>
                </ui-gmap-google-map>
            </div>
        </div>
        <br>
        <script type="text/javascript">
        function demoPerformQuery() {
          var container = CloudKit.getDefaultContainer();
          var publicDB = container.publicCloudDatabase;

          // Get the user's current geolocation.
          return getUsersPosition().then(function (position) {

            // position is an object containing keys 'latitude' and 'longitude'.

            // Set up a query that sorts results in ascending distance from the
            // user's location.
            var query = {
              recordType: 'Items',
              sortBy: [{
                fieldName: 'location',
                relativeLocation: position
              }]
            };

            // Execute the query.
            return publicDB.performQuery(query)
              .then(function (response) {
                if(response.hasErrors) {

                  // Handle them in your app.
                  throw response.errors[0];

                } else {
                  var records = response.records;
                  var numberOfRecords = records.length;
                  if (numberOfRecords === 0) {
                    return render('No matching items')
                    } else {
                                var el = render('Found ' + numberOfRecords + ' matching item'
                                  + (numberOfRecords > 1 ? 's' : ''));
                                records.forEach(function (record) {
                                  var fields = record.fields;
                                  el.appendChild(renderItem(
                                    fields['name'].value,
                                    fields['location'].value,
                                    fields['asset'].value.downloadURL
                                  ));
                                });
                                return el;
                              }
                            }
                          })
                      });
                    }
</script>
    </body>

</html>
